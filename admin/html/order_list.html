<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>매출 현황 관리</title>
  <link rel="stylesheet" href="../assets/css/style.css">
  <!-- 차트용 -->
  <script src="https://d3js.org/d3.v6.min.js"></script>
  <script src="https://naver.github.io/billboard.js/release/latest/dist/billboard.pkgd.min.js"></script>
  <script src="https://naver.github.io/billboard.js/release/latest/dist/plugin/billboardjs-plugin-tableview.min.js"></script>
  <link rel="stylesheet" href="https://naver.github.io/billboard.js/release/latest/dist/theme/datalab.min.css">
  <link rel="stylesheet" href="../assets/css/chart.css">
</head>
<body>
  <div class="admin">
    <header class="header_admin">
      <h1><a href="/"><img alt="B-Lifecare" src="https://stag-bas.batterylifecare.com/_next/static/media/logo.d9215bd2.png"></a></h1>
      <div class="header_tab">
        <ul>
          <li><a class="btn_tab" href="#">일반</a></li>
          <li><a class="btn_tab on" href="#">상품/주문</a></li>
        </ul>
      </div>
    </header>

    <div class="container">
      <div class="lnb_admin">
        <ul class="menu menu_1dep">
          <li class="list_1dep">
            <a class="btn_menu">상품 관리</a>
            <ul class="menu menu_2dep">
              <li class="list_2dep"><a class="btn_menu">상품 리스트</a></li>
            </ul>
          </li>
          <li class="list_1dep">
            <a class="btn_menu">전시 관리</a>
            <ul class="menu menu_2dep">
              <li class="list_2dep"><a class="btn_menu">전시상품 카테고리</a></li>
              <li class="list_2dep"><a class="btn_menu">전시상품 리스트</a></li>
              <li class="list_2dep"><a class="btn_menu">전시상품 진열 관리</a></li>
            </ul>
          </li>
          <li class="list_1dep">
            <a class="btn_menu">주문 관리</a>
            <ul class="menu menu_2dep">
              <li class="list_2dep"><a class="btn_menu">매출 현황 관리</a></li>
              <li class="list_2dep"><a class="btn_menu">주문 결과 조회</a></li>
              <li class="list_2dep"><a class="btn_menu">결제 중단/실패 조회</a></li>
            </ul>
          </li>
          <li class="list_1dep">
            <a class="btn_menu">승인/취소/환불 관리</a>
            <ul class="menu menu_2dep">
              <li class="list_2dep"><a class="btn_menu">카드 승인 조회(이니시스)</a></li>
              <li class="list_2dep"><a class="btn_menu">관리자 카드취소 조회</a></li>
              <li class="list_2dep"><a class="btn_menu">망 취소 조회(이니시스)</a></li>
            </ul>
          </li>
        </ul>
      </div>

      <div class="contents_admin">
        <div class="admin_wrap">
          <h2 class="admin_title">매출 현황 관리</h2>

          <div class="admin_box">
            <div class="sort_wrap">
              <p class="sort_title requir">매출 구분</p>
              <div class="sort_con">
                <div class="input_type_radio">
                  <input type="radio" name="sales" value="all" id="all" checked>
                  <label for="all">전체</label>
                </div>
                <div class="input_type_radio">
                  <input type="radio" name="sales" value="common" id="common">
                  <label for="common">일반결제(단건)</label>
                </div>
                <div class="input_type_radio">
                  <input type="radio" name="sales" value="wpay" id="wpay">
                  <label for="wpay">정기결제(WPAY)</label>
                </div>
                <div class="sort_btn">
                  <button class="btn_middle btn_sky">검색</button>
                </div>
              </div>
            </div>
          </div>

          <div class="admin_box">
            <div class="box_title">
              <h3>매출 현황</h3>
              <span class="caption">업데이트 일시 : 2023-12-21(목)</span>
              <button class="btn_fit">주문 통계(일별) 다운로드</button>
            </div>

            <div class="sort_wrap">
              <div class="sort_summary">
                <p class="text_bold">총 주문 금액</p>
                <div class="sort_summary_info">
                  <p><span>15,000</span>&nbsp;건</p>
                  <p><span class="text_bold">150,000,000</span>&nbsp;원</p>
                </div>
              </div>

              <div class="sort_summary">
                <p class="text_bold">총 실 결제금액</p>
                <div class="sort_summary_info">
                  <p><span class="text_bold">150,000,000</span>&nbsp;원</p>
                </div>
              </div>

              <div class="sort_summary">
                <p class="text_bold">총 환불(취소) 금액</p>
                <div class="sort_summary_info">
                  <p><span class="text_red">15,000</span>&nbsp;건</p>
                  <p><span class="text_bold text_red">150,000,000</span>&nbsp;원</p>
                </div>
              </div>
            </div>
          </div>

          <div class="admin_box">
            <div class="box_title">
              <h3>최근 7일 주문</h3>
              <span class="caption">업데이트 일시 : 2023-12-21(전일)</span>
            </div>
            <div>
              <div class="chart_caption"><span>X10000</span></div>
              <div id="chart"></div>
              <table class="chart_table">
                <thead>
                  <tr>
                    <th width="136px"></th>
                    <th width="194px">23.12.15(금)</th>
                    <th width="194px">23.12.16(토)</th>
                    <th width="194px">23.12.17(일)</th>
                    <th width="194px">23.12.18(월)</th>
                    <th width="194px">23.12.19(화)</th>
                    <th width="194px">23.12.20(수)</th>
                    <th width="194px">23.12.21(목)</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <th class="chart_th chart_th1">구매금액(원)</th>
                    <td>50,000,000</td>
                    <td>75,000,000</td>
                    <td>40,000,000</td>
                    <td>80,000,000</td>
                    <td>90,000,000</td>
                    <td>100,000,000</td>
                    <td>125,000,000</td>
                  </tr>
                  <tr>
                    <th class="chart_th chart_th2">환불금액(원)</th>
                    <td>10,000,000</td>
                    <td>30,000,000</td>
                    <td>15,000,000</td>
                    <td>48,000,000</td>
                    <td>10,000,000</td>
                    <td>12,500,000</td>
                    <td>20,500,000</td>
                  </tr>
                  <tr>
                    <th class="chart_th chart_th3">구매건수</th>
                    <td>100</td>
                    <td>150</td>
                    <td>80</td>
                    <td>160</td>
                    <td>180</td>
                    <td>200</td>
                    <td>250</td>
                  </tr>
                  <tr>
                    <th class="chart_th chart_th4">환불건수</th>
                    <td>20</td>
                    <td>60</td>
                    <td>35</td>
                    <td>60</td>
                    <td>20</td>
                    <td>25</td>
                    <td>21</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>

          <div class="popup_wrap" id="download">
            <div class="page_popup">
              <div class="box_title">
                <h3>주문 통계(엑셀다운로드)</h3>
              </div>
              <div class="admin_box">
                <div class="sort_wrap">
                  <p class="sort_title title_top">기간검색</p>
                  <div class="sort_con">
                    <div class="sort_con_double">
                      <div class="input_type_radio">
                        <input type="radio" name="period_search" value="month" id="month" checked>
                        <label for="month">월별</label>
                      </div>
                      <div class="input_type_radio">
                        <input type="radio" name="period_search" value="period" id="period">
                        <label for="period">기간별</label>
                      </div>
                    </div>

                    <div class="sort_con_double">
                      <select name="search_year" class="sort_select">
                        <option>2023년</option>
                      </select>
                      <select name="search_month" class="sort_select">
                        <option>12월</option>
                      </select>
                    </div>
                  </div>
                </div>
              </div>
              <div class="btn_wrap btn_sub btn_center">
                <button class="btn_default btn_white">닫기</button>
                <button class="btn_default">엑셀 다운로드</button>
              </div>

              <button class="btn_close"><span class="hidden">close</span></button>
            </div>
          </div>
        
          <div class="popup_wrap" id="download2">
            <div class="page_popup">
              <div class="box_title">
                <h3>주문 통계(엑셀다운로드)</h3>
              </div>
              <div class="admin_box">
                <div class="sort_wrap">
                  <p class="sort_title title_top">기간검색</p>
                  <div class="sort_con">
                    <div class="sort_con_double">
                      <div class="input_type_radio">
                        <input type="radio" name="period_search2" value="month" id="month">
                        <label for="month">월별</label>
                      </div>
                      <div class="input_type_radio">
                        <input type="radio" name="period_search2" value="period" id="period" checked>
                        <label for="period">기간별</label>
                      </div>
                    </div>

                    <div class="sort_con_double">
                      <div class="sort_con">
                        <div class="sort_option">
                          <input type="radio" name="popup_period" value="1month" id="1month">
                          <label class="period" for="1month">1개월</label>
                        </div>
                        <div class="sort_option">
                          <input type="radio" name="popup_period" value="3month" id="3month" checked>
                          <label class="period" for="3month">3개월</label>
                        </div>
                        <div class="sort_option">
                          <input type="radio" name="popup_period" value="6month" id="6month">
                          <label class="period" for="6month">6개월</label>
                        </div>
                        <div class="sort_option">
                          <input type="radio" name="popup_period" value="1year" id="1year">
                          <label class="period" for="1year">1년</label>
                        </div>
                        <div class="sort_option">
                          <input type="radio" name="popup_period" value="select_day" id="select_day">
                          <label class="period" for="select_day">기간선택</label>
                        </div>
                        <div class="sort_date">
                          <input type="date"> ~ <input type="date">
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="btn_wrap btn_sub btn_center">
                <button class="btn_default btn_white">닫기</button>
                <button class="btn_default">엑셀 다운로드</button>
              </div>

              <button class="btn_close"><span class="hidden">close</span></button>
            </div>
          </div>

        </div>
      </div>
    </div>
  </div>

  <!-- 차트용 -->
  <script>
    var chart = bb.generate({
    data: {
      columns: [
        ["data1", 50000000, 75000000, 40000000, 80000000, 90000000, 100000000, 125000000],
        ["data2", 10000000, 30000000, 15000000, 48000000, 10000000, 12500000, 20500000],
        ["data3", 100, 150, 80, 160, 180, 200, 250],
        ["data4", 20, 60, 35, 60, 20, 25, 21]
      ],
      types: {
        data1: "bar",
        data2: "bar",
        data3: "line",
        data4: "line"
      },
      colors: {
        data1: "#00BCE5",
        data2: "#FF8787",
        data3: "#597EFF",
        data4: "#FF5353"
      },
      names: {
        data1: "구매금액(원)",
        data2: "환불금액(원)",
        data3: "구매건수",
        data4: "환불건수"
      },
      axes: {
        data1: "y",
        data2: "y",
        data3: "y2",
        data4: "y2"
      }
    },
    axis: {
      x: {
        show: false,
        type: "category",
        categories: [
          "23.12.15(금)",
          "23.12.16(토)",
          "23.12.17(일)",
          "23.12.18(월)",
          "23.12.19(화)",
          "23.12.20(수)",
          "23.12.21(목)"
        ]
      },
      y: {
        min: 0,
        max: 140000000,
        tick: {
          format: function(x) {
            return x.toString().replace(/0000$/, "").replace(/\B(?=(\d{3})+(?!\d))/g,",");
          }
        }
      },
      y2: {
        show: true,
        type: "indexed",
        min: 0,
        max: 350
      }
    },
    bar: {
      width: {
        ratio: 0.1
      },
      padding: 6,
      radius: 2,
    },
    tooltip: {
      show: false
    },
    grid: {
      y: {
        show: true
      }
    },
    legend: {
      show: false
    },
    padding: {
      mode: "fit",
      top: 30,
      right: 40,
      bottom: 0,
      left: 90
    },
    // plugins: [
    // new bb.plugin.tableview({ // for ESM specify as: new tableview()
    //   categoryTitle: " ",
    //   style: true
    //   }),
    // ],
    bindto: "#chart"
  });
  </script>
</body>
</html>